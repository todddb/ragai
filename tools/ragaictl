#!/usr/bin/env bash
set -euo pipefail

command=${1:-}
shift || true

case "$command" in
  start)
    docker compose up -d ollama qdrant api frontend
    docker compose ps
    ;;
  stop)
    docker compose down
    ;;
  status)
    docker compose ps
    ;;
  logs)
    docker compose logs -f "$@"
    ;;
  build)
    docker compose build
    ;;
  restart)
    docker compose restart "$@"
    ;;
  dump_project)
    ./tools/dump_project.sh "$@"
    ;;
  *)
    echo "Usage: ragaictl {start|stop|status|logs|build|restart|dump_project}"
    exit 1
    ;;
esac
