<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI RAG Assistant</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body class="page-chat">
  <header>
    <div class="header-left">
      <div class="logo-circle">AI</div>
    </div>
    <div class="header-center">
      <h1>AI RAG Assistant</h1>
      <p>Ask questions about your knowledge base and documents.</p>
    </div>
    <div class="header-actions">
      <button class="btn nav-button active" onclick="location.href='chat.html'">Chat</button>
      <button class="btn nav-button" onclick="location.href='settings.html'">Settings</button>
    </div>
  </header>

  <main class="chat-layout">
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="sidebar-title">
          <span class="sidebar-title-text">Conversations</span>
        </div>
        <div class="sidebar-controls">
          <button class="icon-btn sidebar-collapsed-toggle" id="sidebarCollapsedToggle" aria-label="Expand conversations sidebar">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M7 3h10a3 3 0 0 1 3 3v7a3 3 0 0 1-3 3h-4.5l-3.2 3.2a1 1 0 0 1-1.7-.7V16H7a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3zm0 2a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h2.6a1 1 0 0 1 1 1v1.6l1.8-1.8a1 1 0 0 1 .7-.3H17a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H7zm9.5 6.5a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2h6z"/>
            </svg>
          </button>
          <button class="icon-btn" id="sidebarToggle" aria-label="Collapse conversations sidebar">❮</button>
          <button class="btn btn-primary btn-small" id="sidebarNew">+ New</button>
        </div>
      </div>
      <div class="conversation-list sidebar-list" id="conversationList"></div>
      <div class="sidebar-resize-handle" id="sidebarResizeHandle" aria-hidden="true"></div>
    </aside>

    <section class="chat-main">
      <div class="chat-container" id="chatContainer"></div>
      <div class="chat-composer">
        <div id="statusText" class="status-text status-chat"></div>
        <div class="input-area">
          <textarea id="messageInput" rows="3" placeholder="Ask a question about your knowledge base..."></textarea>
          <button class="btn btn-primary" id="sendButton">Send</button>
        </div>
      </div>
    </section>
  </main>

  <div class="footer">© 2026 AI RAG Assistant</div>

  <script>
    window.API_URL = window.API_URL || localStorage.getItem('API_URL');
  </script>
  <script src="js/config.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="js/chat.js"></script>
  <script src="js/sidebar.js"></script>
</body>
</html>
